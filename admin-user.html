<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Quản lý Người dùng</title>
    <link rel="stylesheet" href="assets/css/admin.css">
    <link rel="icon" type="image/png" href="assets/images/LOGO.webp">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
</head>
<body>
    <input type="checkbox" id="menu-toggle">
    <div class="sidebar">
        <div class="side-header">
        
        </div>
        
        <div class="side-content">
            <div class="profile">
                <div class="profile">
                    <ion-icon name="water-outline" style="font-size: 40px; color:white;"></ion-icon>
                    <h4>H20</h4>
                   
                </div>
            </div>

            <div class="side-menu">
                <ul>
                    <li>
                        <a href="admin-strator.html">
                             <span class="las la-address-card"></span>
                             <small>Quản trị viên</small>
                         </a>
                     </li>
                    <li>
                       <a href="admin-user.html">
                            <span class="las la-user-alt" style="color: #fff;"></span>
                            <small style="color: #fff;">Khách hàng</small>
                        </a>
                    </li>
                    <li>
                       <a href="admin-product.html">
                            <span class="las la-clipboard-list"></span>
                            <small>Sản phẩm</small>
                        </a>
                    </li>
                    <li>
                       <a href="admin-order.html">
                            <span class="las la-shopping-cart"></span>
                            <small>Đơn hàng</small>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="main-content">
        <header>
            <div class="header-content">
                <label for="menu-toggle" id="bar-admin">
                    <span class="las la-bars" style="font-size: 28px; margin-top: 8px;"></span>
                </label>
                
                <div class="header-menu">
                    <label for="">
                    
                    </label>
                    
                    <div class="notify-icon">
                        <span class="las la-envelope"></span>
                        <span class="notify">4</span>
                    </div>
                    
                    <div class="notify-icon">
                        <span class="las la-bell"></span>
                        <span class="notify">3</span>
                    </div>
                    
                    <div class="user" style="margin-right: 8px;">
                        <span style="font-size: 25px; cursor: pointer;" class="las la-power-off" onclick="window.location.href='login-admin.html'"></span>
                        <span style="font-size: 20px; cursor: pointer;" onclick="window.location.href='login-admin.html'">Đăng xuất</span>
                    </div>
                </div>
            </div>
        </header>

        <div class="page-content" style="margin-top: 50px;">
            <h1 style="padding: 1.3rem 0rem;color: #74767d;" id="customer">Khách hàng</h1>
            <div>
                <button style="margin-bottom: 8px;" id="showadd" onclick="showadd()"><i class="fa-solid fa-circle-plus" style="margin-right: 4px;"></i>  Thêm Người dùng</button>
            </div>
        </div>

        <div class="records table-responsive">
            <div class="record-header">
                <div class="browse">
                    <input type="search" placeholder="Tìm kiếm (#ID)" class="record-search">
                </div>
                <div class="add">
                    <span>Bản ghi</span>
                    <select name="" id="">
                        <option value="">10</option>
                        <option value="">16</option>
                        <option value="">20</option>
                    </select> 
                </div>
            </div>

            <div>
                <table width="100%" id="table-user">
                    <thead>
                        <tr id="select-filter">
                            <th>ID NGƯỜI DÙNG</th>
                            <th>HỌ VÀ TÊN</th>
                            <th>EMAIL</th>
                            <th>NGÀY SINH</th>
                            <th>ĐỊA CHỈ</th>
                            <th>TRẠNG THÁI</th>
                            <th>HÀNH ĐỘNG</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Các hàng dữ liệu sẽ được thêm bằng JavaScript -->
                        <tr>
                            <td>#USER125</td>
                            <td>Andrew Bruno</td>
                            <td>bruno@crossover.org</td>
                            <td>1999-05-19</td>
                            <td>45 Beaver St</td>
                            <td>Thông thường</td>
                            <td>
                                <div class="actions">
                                    <span class="las la-edit"></span>
                                    <span class="las la-lock"></span>
                                </div>
                            </td>
                        </tr>
                        <!-- Thêm các hàng dữ liệu khác tương tự ở đây -->
                    </tbody>
                </table>
                <ul class="pagination" id="pagination">
                    <li onclick="prevPage()">Trước</li>
                    <li class="active">1</li>
                    <li onclick="nextPage()">Sau</li>
                </ul>
            </div>
        </div>
    </div>

    <div id="container-inputs">
        <div class="user-tab">
            <h1>THÊM NGƯỜI DÙNG</h1>
            <i class="fa-solid fa-xmark" id="closeadd" onclick="hideadd()"></i>
            <div class="user-input" style="margin-top: 30px;">  
                <label>Họ và tên:</label>
                <input type="text" name="fname" id="fname">
            </div>
            <div class="user-input">
                <label>Email:</label>
                <input type="text" name="email" id="email"> 
            </div>
            <div class="user-input">
                <label>Ngày sinh:</label>
                <input type="date" name="birth" id="birth">
            </div>
            <div class="user-input">
                <label>Địa chỉ:</label>
                <input type="text" name="address" id="address">
            </div>
            <div class="user-input" style="display: none;">
                Trạng thái: <input type="text" name="status" id="status">
            </div>
            <div class="user-input" style="display: none;">
                Hành động: <input type="text" name="action" id="action">    
            </div>
            <div style="text-align: center;" id="button-submit">
                <button>Gửi</button>
            </div>
        </div>
    </div>
</body>

<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

<script>
    window.addEventListener("DOMContentLoaded", function() {
        var predefinedContent = 'Thông thường';
        document.getElementById("status").value = predefinedContent;
    });
    window.addEventListener("DOMContentLoaded", function() {
        var predefinedContent = '  <div class="actions"><span class="lab la-telegram-plane"></span><span class="las la-edit"></span><span class="las la-trash"></span></div>';
        document.getElementById("action").value = predefinedContent;
    });

    var rIndex,
        table = document.getElementById("table-user");

    function checkEmptyInput() {
        var isEmpty = false,
            iduser = document.getElementById("id-user").value,
            fname = document.getElementById("fname").value,
            email = document.getElementById("email").value,
            birth = document.getElementById("birth").value,
            address = document.getElementById("address").value,
            status = document.getElementById("status").value,
            action = document.getElementById("action").value;

        if (iduser === "") {
            alert("Vui lòng điền thông tin");
            isEmpty = true;
        } else if (fname === "") {
            alert("Vui lòng điền thông tin");
            isEmpty = true;
        } else if (email === "") {
            alert("Vui lòng điền thông tin");
            isEmpty = true;
        } else if (birth === "") {
            alert("Vui lòng điền thông tin");
            isEmpty = true;
        } else if (address === "") {
            alert("Vui lòng điền thông tin");
            isEmpty = true;
        }

        return isEmpty;
    }

    function addHtmlTableRow() {
        if (!checkEmptyInput()) {
            var newRow = table.insertRow(table.length),
                cell1 = newRow.insertCell(0),
                cell2 = newRow.insertCell(1),
                cell3 = newRow.insertCell(2),
                cell4 = newRow.insertCell(3),
                cell5 = newRow.insertCell(4),
                cell6 = newRow.insertCell(5),
                cell7 = newRow.insertCell(6),
                iduser = document.getElementById("id-user").value,
                fname = document.getElementById("fname").value,
                email = document.getElementById("email").value,
                birth = document.getElementById("birth").value,
                address = document.getElementById("address").value,
                status = document.getElementById("status").value,
                action = document.getElementById("action").value;

            cell1.innerHTML = iduser;
            cell2.innerHTML = fname;
            cell3.innerHTML = email;
            cell4.innerHTML = birth;
            cell5.innerHTML = address;
            cell6.innerHTML = status;
            cell7.innerHTML = action;

            selectedRowToInput();
        }
        resetForm();
    }

    function selectedRowToInput() {
        for (var i = 1; i < table.rows.length; i++) {
            table.rows[i].onclick = function() {
                rIndex = this.rowIndex;
                document.getElementById("id-user").value = this.cells[0].innerHTML;
                document.getElementById("fname").value = this.cells[1].innerHTML;
                document.getElementById("email").value = this.cells[2].innerHTML;
                document.getElementById("birth").value = this.cells[3].innerHTML;
                document.getElementById("address").value = this.cells[4].innerHTML;
            }
        }
    }

    function editHtmlTbleSelectedRow() {
        if (!checkEmptyInput()) {
            table.rows[rIndex].cells[0].innerHTML = document.getElementById("id-user").value;
            table.rows[rIndex].cells[1].innerHTML = document.getElementById("fname").value;
            table.rows[rIndex].cells[2].innerHTML = document.getElementById("email").value;
            table.rows[rIndex].cells[3].innerHTML = document.getElementById("birth").value;
            table.rows[rIndex].cells[4].innerHTML = document.getElementById("address").value;
        }
        resetForm();
    }

    function removeSelectedRow() {
        if (rIndex > 0) {
            var result = confirm("Bạn có chắc chắn muốn xóa?");
            if (result == true) {
                table.deleteRow(rIndex);
            }
        }
        resetForm();
    }

    function resetForm() {
        document.getElementById("id-user").value = "";
        document.getElementById("fname").value = "";
        document.getElementById("email").value = "";
        document.getElementById("birth").value = "";
        document.getElementById("address").value = "";
    }
</script>

<script>
    const htmlElement = document.querySelector('html');
    const containerinputs = document.querySelector('#container-inputs');
    const usertab = document.querySelector('.usertab');

    function showadd() {
        containerinputs.style.display = "block";
        usertab.style.display = "block";
        htmlElement.style.overflow = 'hidden';
    }

    function hideadd() {
        var container = document.getElementById('container-inputs');
        var inputs = container.querySelectorAll('input, select, textarea');

        inputs.forEach(function(input) {
            if (input.type !== 'button') {
                input.value = '';
            }
        });

        containerinputs.style.display = "none";
        usertab.style.display = "none";
        htmlElement.style.overflow = 'auto';
    }
</script>
</html>
